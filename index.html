<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RAKRUNNIN</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/qrcode.js@1.0.0/lib/qrcode.min.js"></script>
  <style>
    :root {
      --bg: #0a0e17;
      --card: #111826;
      --text: #e2e8f0;
      --accent: #ff6d00;
      --border: #1e293b;
      --shadow: 0 8px 32px rgba(0,0,0,0.5);
      --transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      --blur: blur(12px);
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:var(--bg); color:var(--text); font-family:'Inter',sans-serif; overflow-x:hidden; }
    .page { opacity:0; transform:translateY(20px); animation:enter 0.6s forwards; }
    @keyframes enter { to { opacity:1; transform:translateY(0); } }

    /* FRESH BANNER */
    .fresh { background:var(--accent); color:#000; text-align:center; padding:1rem; font-weight:900; font-size:1.2rem; animation:pulse 2s infinite; }
    @keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.8; } }

    /* HEADER */
    .header { padding:3rem 1rem 1.5rem; text-align:center; font-size:2.4rem; font-weight:700; color:#fff; }

    /* SEARCH */
    .search { max-width:700px; margin:2.5rem auto; padding:0 1rem; }
    #bin-search { width:100%; padding:1.2rem 1rem 1.2rem 3rem; background:var(--card); border:1px solid var(--border); border-radius:16px; color:var(--text); font-size:1.1rem; transition:var(--transition); position:relative; }
    #bin-search:focus { outline:none; border-color:var(--accent); box-shadow:0 0 0 4px rgba(255,109,0,0.25); }
    .search-icon { position:absolute; left:1.8rem; top:50%; transform:translateY(-50%); color:#64748b; }

    /* FILTERS */
    .filters { max-width:1400px; margin:3rem auto; padding:0 1rem; display:grid; grid-template-columns:1fr 1fr; gap:2rem; }
    @media(max-width:767px) { .filters { grid-template-columns:1fr; } }
    .slider-group { background:var(--card); padding:1.5rem; border-radius:16px; border:1px solid var(--border); }
    .slider-group label { display:block; margin-bottom:0.8rem; font-size:1rem; color:#94a3b8; }
    .range { width:100%; height:8px; border-radius:4px; background:#334155; -webkit-appearance:none; outline:none; }
    .range::-webkit-slider-thumb { -webkit-appearance:none; width:22px; height:22px; background:var(--accent); border-radius:50%; cursor:pointer; box-shadow:0 0 12px rgba(255,109,0,0.5); }

    /* CARDS */
    .cards { max-width:1400px; margin:0 auto 4rem; padding:0 1rem; display:grid; gap:2rem; }
    @media(min-width:1024px) { .cards { grid-template-columns:repeat(3,1fr); } }
    @media(max-width:1023px) and (min-width:768px) { .cards { grid-template-columns:repeat(2,1fr); } }
    @media(max-width:767px) { .cards { grid-template-columns:1fr; } }
    .card { background:var(--card); border-radius:16px; overflow:hidden; border:1px solid var(--border); transition:var(--transition); position:relative; opacity:0; transform:translateY(30px); }
    .card:nth-child(1) { animation:cardIn 0.5s 0.1s forwards; }
    .card:nth-child(2) { animation:cardIn 0.5s 0.2s forwards; }
    .card:nth-child(3) { animation:cardIn 0.5s 0.3s forwards; }
    @keyframes cardIn { to { opacity:1; transform:translateY(0); } }
    .card:hover { transform:translateY(-12px); box-shadow:0 24px 48px rgba(255,109,0,0.3); }
    .card-header { background:linear-gradient(135deg,#0d47a1,#1976d2); color:#fff; padding:1.2rem; display:flex; justify-content:space-between; align-items:center; font-weight:700; }
    .live { background:#00c853; color:#fff; font-size:0.75rem; padding:4px 8px; border-radius:6px; animation:pulse 1.5s infinite; }
    .new { background:#ff1744; color:#fff; font-size:0.75rem; padding:4px 8px; border-radius:6px; }
    .card-body { padding:1.5rem; }
    .info { display:grid; gap:0.6rem; font-size:0.95rem; }
    .info strong { color:var(--text); }
    .checked { font-size:0.8rem; color:#94a3b8; margin-top:0.4rem; }
    .price { font-size:1.8rem; font-weight:700; color:var(--accent); text-align:center; margin:1rem 0; }
    .buy { width:100%; background:var(--accent); color:#fff; border:none; padding:1.1rem; font-weight:700; font-size:1.1rem; border-radius:12px; cursor:pointer; position:relative; overflow:hidden; transition:var(--transition); }
    .buy:hover { background:#e65100; transform:scale(1.02); }
    .buy::after { content:''; position:absolute; top:50%; left:50%; width:0; height:0; background:rgba(255,255,255,0.4); border-radius:50%; transform:translate(-50%,-50%); transition:width 0.6s,height 0.6s; }
    .buy:active::after { width:300px; height:300px; }
    .copy-bin { position:absolute; top:12px; right:12px; background:rgba(255,255,255,0.15); color:#fff; border:none; padding:6px 8px; border-radius:6px; font-size:0.8rem; cursor:pointer; }

    /* CART */
    .cart { position:fixed; bottom:2rem; right:2rem; background:var(--card); padding:1.5rem; border-radius:16px; border:1px solid var(--border); width:360px; transform:translateX(120%); transition:transform 0.5s ease; z-index:1000; box-shadow:var(--shadow); }
    .cart.show { transform:translateX(0); }
    .cart-header { display:flex; justify-content:space-between; margin-bottom:1rem; font-weight:600; font-size:1.1rem; }
    .cart-item { padding:0.7rem 0; border-bottom:1px dashed var(--border); display:flex; justify-content:space-between; font-size:0.95rem; }
    .remove { background:#ef4444; color:#fff; border:none; width:24px; height:24px; border-radius:50%; cursor:pointer; font-size:0.9rem; }
    .checkout { width:100%; background:#00c853; color:#fff; border:none; padding:1rem; margin-top:1rem; border-radius:12px; cursor:pointer; font-weight:700; transition:var(--transition); }
    .checkout:hover { background:#00a843; }

    /* MODAL */
    .modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); display:none; justify-content:center; align-items:center; z-index:2000; backdrop-filter:var(--blur); }
    .modal.active { display:flex; animation:fadeIn 0.5s; }
    .modal-content { background:var(--card); padding:2.5rem; border-radius:20px; text-align:center; max-width:460px; border:1px solid var(--accent); box-shadow:0 24px 60px rgba(255,109,0,0.35); animation:zoomIn 0.5s; position:relative; }
    .close { position:absolute; top:16px; right:16px; background:none; border:none; color:#94a3b8; font-size:1.8rem; cursor:pointer; }
    #qr { width:200px; height:200px; margin:2rem auto; padding:12px; background:#fff; border-radius:16px; }
    .addr { background:#000; color:#0f0; padding:1.2rem; border-radius:12px; font-family:monospace; font-size:1rem; word-break:break-all; margin:1.5rem 0; position:relative; }
    .copy-addr { position:absolute; right:12px; top:12px; background:rgba(255,255,255,0.2); color:#fff; border:none; padding:6px 10px; border-radius:6px; font-size:0.85rem; cursor:pointer; }
    .countdown { font-size:2.2rem; color:#ffab00; font-weight:700; font-family:monospace; margin:1rem 0; }

    /* FOOTER */
    .footer { text-align:center; padding:2.5rem 1rem; font-size:0.9rem; color:#64748b; border-top:1px solid var(--border); }
    .footer a { color:var(--accent); text-decoration:none; }

    /* SKELETON */
    .skeleton { background:#1e293b; border-radius:8px; height:24px; margin:0.6rem 0; animation:shimmer 1.5s infinite; }
    .skeleton-card { display:grid; gap:1.5rem; }
    @keyframes shimmer { 0% { background-position:-200% 0; } 100% { background-position:200% 0; } }
    .skeleton-card > div { height:180px; background:linear-gradient(90deg,#1e293b 25%,#334155 50%,#1e293b 75%); background-size:200% 100%; }

    /* TEASER */
    .teaser { text-align:center; margin:3rem 0; padding:2rem; background:var(--card); border-radius:16px; border:1px solid var(--border); cursor:pointer; transition:var(--transition); }
    .teaser:hover { background:#1e293b; }
    .glitch { font-size:1.5rem; font-weight:700; color:#ff6d00; }
    .glitch::before, .glitch::after { content:attr(data-text); position:absolute; top:0; left:0; width:100%; height:100%; }
    .glitch::before { animation:glitch1 0.5s infinite; color:#ff1744; clip-path:polygon(0 0,100% 0,100% 33%,0 33%); }
    .glitch::after { animation:glitch2 0.5s infinite; color:#00c853; clip-path:polygon(0 67%,100% 67%,100% 100%,0 100%); }
    @keyframes glitch1 { 0%,100% { transform:translate(0); } 20% { transform:translate(-2px,2px); } 40% { transform:translate(-2px,-2px); } }
    @keyframes glitch2 { 0%,100% { transform:translate(0); } 60% { transform:translate(2px,2px); } 80% { transform:translate(2px,-2px); } }

    /* PWA */
    @media(min-width:768px) { .pwa { display:none; } }
    .pwa { position:fixed; bottom:0; left:0; width:100%; background:#111826; color:#fff; padding:1rem; text-align:center; font-size:0.9rem; z-index:999; }
  </style>
</head>
<body class="page">

<div class="fresh">FRESH DROP • <span id="stock-count">52</span> CARDS</div>
<div class="header">RAKRUNNIN</div>

<div class="search">
  <i class="fas fa-search search-icon"></i>
  <input type="text" id="bin-search" placeholder="Search BIN, Bank, Country..." oninput="filterCards()">
</div>

<div class="filters">
  <div class="slider-group">
    <label>Price: <span id="price-val">$25 - $300</span></label>
    <input type="range" class="range" id="price-slider" min="25" max="300" value="300" oninput="updateFilters()">
  </div>
  <div class="slider-group">
    <label>Balance: <span id="bal-val">$500 - $35,000</span></label>
    <input type="range" class="range" id="bal-slider" min="500" max="35000" value="35000" oninput="updateFilters()">
  </div>
</div>

<div class="teaser" onclick="openTeaser()">
  <div class="glitch" data-text="TS DROPS NEXT WEEK">TS DROPS NEXT WEEK</div>
  <div class="countdown-mini" id="teaser-countdown">6d 23h 41m</div>
</div>

<div class="cards" id="cards">
  <div class="skeleton-card" id="skeleton">
    <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
    <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
  </div>
</div>

<div class="cart" id="cart">
  <div class="cart-header">
    <span>CART (<span id="cart-count">0</span>)</span>
    <span id="cart-total">$0</span>
  </div>
  <div id="cart-items"></div>
  <button class="checkout" onclick="openBTC()">PAY WITH BTC</button>
</div>

<div class="footer">
  BTC ONLY • NO LOGS • <a href="https://t.me/rakrunnin_support" target="_blank">@rakrunnin_support</a>
</div>

<div class="modal" id="btcModal">
  <div class="modal-content">
    <button class="close" onclick="closeModal()">&times;</button>
    <h3>BTC PAYMENT</h3>
    <div id="qr"></div>
    <div class="addr" id="btc-addr">1NtpN3aPZowqEzX16E5cMUHQ16P9KHQtiy</div>
    <button class="copy-addr" onclick="copyAddr()">COPY</button>
    <div class="countdown" id="countdown">60:00</div>
    <p style="margin:1.5rem 0; font-size:0.95rem;">Send <strong id="btc-amt">0.000000</strong> BTC</p>
    <p style="color:#94a3b8; font-size:0.85rem;">Auto-refund in 60 min if no delivery.</p>
  </div>
</div>

<div class="pwa" id="pwa">Add to Home Screen for full experience</div>

<script>
  const BTC_ADDR = "1NtpN3aPZowqEzX16E5cMUHQ16P9KHQtiy";
  let cart = JSON.parse(localStorage.getItem('rakcart') || '[]');
  let stock = 52;
  let countdownTimer, btcPrice = 102345;

  const cards = [
    {bin:"453201", type:"Visa", bank:"Chase", level:"Classic", country:"US", balance:1800, valid:90, price:25, checked:"2 min ago"},
    {bin:"542418", type:"MasterCard", bank:"Citi", level:"World", country:"UK", balance:18900, valid:99, price:125, checked:"1 min ago"},
    {bin:"371449", type:"Amex", bank:"Amex", level:"Gold", country:"CA", balance:8700, valid:95, price:89, checked:"3 min ago"},
    {bin:"601100", type:"Discover", bank:"Discover", level:"Platinum", country:"US", balance:4500, valid:92, price:42, checked:"1 min ago"},
    {bin:"491761", type:"Visa", bank:"HSBC", level:"Signature", country:"AU", balance:29800, valid:99, price:195, checked:"2 min ago"},
    {bin:"400934", type:"Visa", bank:"Wells Fargo", level:"Platinum", country:"US", balance:5600, valid:94, price:48, checked:"4 min ago"},
    {bin:"510510", type:"MasterCard", bank:"Barclays", level:"Standard", country:"MX", balance:3200, valid:91, price:35, checked:"1 min ago"},
    {bin:"378282", type:"Amex", bank:"Amex", level:"Centurion", country:"US", balance:25700, valid:97, price:220, checked:"2 min ago"},
    {bin:"426684", type:"Visa", bank:"Capital One", level:"Gold", country:"US", balance:11300, valid:95, price:62, checked:"3 min ago"},
    {bin:"555555", type:"MasterCard", bank:"Bank of America", level:"Black", country:"US", balance:35000, valid:99, price:300, checked:"1 min ago"},
    // 42 more unique BINs...
    {bin:"491183", type:"Visa", bank:"PNC", level:"Infinite", country:"US", balance:8900, valid:96, price:78, checked:"2 min ago"},
    {bin:"402634", type:"Visa", bank:"TD Bank", level:"Rewards", country:"CA", balance:4200, valid:93, price:45, checked:"1 min ago"},
    {bin:"456734", type:"Visa", bank:"Santander", level:"Elite", country:"ES", balance:15200, valid:97, price:135, checked:"3 min ago"},
    {bin:"427640", type:"Visa", bank:"Sberbank", level:"Premium", country:"RU", balance:7200, valid:92, price:55, checked:"4 min ago"},
    {bin:"601189", type:"Discover", bank:"Ally", level:"Cashback", country:"US", balance:3100, valid:91, price:38, checked:"1 min ago"}
  ];

  // Fill to 52
  while (cards.length < 52) {
    const base = cards[Math.floor(Math.random() * 10)];
    cards.push({
      bin: (400000 + Math.floor(Math.random() * 600000)).toString(),
      type: ["Visa","MasterCard","Amex","Discover"][Math.floor(Math.random()*4)],
      bank: ["Chase","Citi","HSBC","Barclays","Wells Fargo"][Math.floor(Math.random()*5)],
      level: ["Classic","Gold","Platinum","Signature","World"][Math.floor(Math.random()*5)],
      country: ["US","UK","CA","AU","DE","BR","MX"][Math.floor(Math.random()*7)],
      balance: Math.floor(Math.random() * 34500) + 500,
      valid: Math.floor(Math.random() * 10) + 90,
      price: Math.floor(Math.random() * 276) + 25,
      checked: "1 min ago"
    });
  }

  async function getBTCPrice() {
    try {
      const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
      const data = await res.json();
      return data.bitcoin.usd;
    } catch { return 102345; }
  }

  function renderCards(filtered = cards) {
    const el = document.getElementById('cards');
    el.innerHTML = '';
    if (filtered.length === 0) {
      el.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:4rem;color:#64748b;font-size:1.1rem;">No cards match. Adjust filters.</div>';
      return;
    }
    filtered.forEach((c, i) => {
      const div = document.createElement('div');
      div.className = 'card';
      div.style.animationDelay = `${i * 0.05}s`;
      div.innerHTML = `
        <div class="card-header">
          <div>${c.type} ${c.bin}xxxxxx</div>
          <div class="new">NEW</div>
          <div class="live">LIVE</div>
        </div>
        <div class="card-body">
          <div class="info">
            <div>Bank: <strong>${c.bank}</strong></div>
            <div>Balance: <strong>$${c.balance.toLocaleString()}</strong></div>
            <div>Valid: <strong>${c.valid}%</strong></div>
            <div>Country: <strong>${c.country}</strong></div>
          </div>
          <div class="checked">Checked ${c.checked}</div>
          <div class="price">$${c.price}</div>
          <button class="buy" onclick="addToCart('${c.bin}',${c.price})">BUY NOW</button>
          <button class="copy-bin" onclick="copyText('${c.bin}xxxxxx')">COPY</button>
        </div>
      `;
      el.appendChild(div);
    });
    document.getElementById('skeleton').style.display = 'none';
  }

  function addToCart(bin, price) {
    cart.push({bin, price});
    localStorage.setItem('rakcart', JSON.stringify(cart));
    stock--;
    document.getElementById('stock-count').textContent = stock;
    updateCart();
    document.getElementById('cart').classList.add('show');
    if ('vibrate' in navigator) navigator.vibrate(50);
  }

  function updateCart() {
    const items = document.getElementById('cart-items');
    const count = document.getElementById('cart-count');
    const total = document.getElementById('cart-total');
    items.innerHTML = '';
    let sum = 0;
    cart.forEach((item, i) => {
      sum += item.price;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `${item.bin}xxxxxx — $${item.price} <button class="remove" onclick="remove(${i})">×</button>`;
      items.appendChild(div);
    });
    count.textContent = cart.length;
    total.textContent = '$' + sum;
  }

  function remove(i) {
    cart.splice(i, 1);
    localStorage.setItem('rakcart', JSON.stringify(cart));
    updateCart();
  }

  async function openBTC() {
    if (cart.length === 0) return;
    const usd = cart.reduce((a,b) => a + b.price, 0);
    btcPrice = await getBTCPrice();
    const btc = (usd / btcPrice).toFixed(8);
    document.getElementById('btc-amt').textContent = btc;
    document.getElementById('btcModal').classList.add('active');
    new QRCode(document.getElementById('qr'), {
      text: `bitcoin:${BTC_ADDR}?amount=${btc}`,
      width: 200, height: 200
    });
    startCountdown();
  }

  function startCountdown() {
    let sec = 3600;
    clearInterval(countdownTimer);
    countdownTimer = setInterval(() => {
      sec--;
      const m = String(Math.floor(sec/60)).padStart(2,'0');
      const s = String(sec%60).padStart(2,'0');
      document.getElementById('countdown').textContent = `${m}:${s}`;
      if (sec <= 0) {
        clearInterval(countdownTimer);
        closeModal();
      }
    }, 1000);
  }

  function closeModal() {
    document.getElementById('btcModal').classList.remove('active');
    clearInterval(countdownTimer);
  }

  function copyAddr() { navigator.clipboard.writeText(BTC_ADDR); alert("Copied!"); }
  function copyText(t) { navigator.clipboard.writeText(t); alert("Copied!"); }

  function updateFilters() {
    document.getElementById('price-val').textContent = `$25 - $${document.getElementById('price-slider').value}`;
    document.getElementById('bal-val').textContent = `$500 - $${document.getElementById('bal-slider').value.toLocaleString()}`;
    filterCards();
  }

  function filterCards() {
    const q = document.getElementById('bin-search').value.toLowerCase();
    const priceMax = parseInt(document.getElementById('price-slider').value);
    const balMax = parseInt(document.getElementById('bal-slider').value);
    const filtered = cards.filter(c => 
      c.price <= priceMax &&
      c.balance <= balMax &&
      (c.bin.includes(q) || c.bank.toLowerCase().includes(q) || c.country.toLowerCase().includes(q))
    );
    renderCards(filtered);
  }

  function openTeaser() {
    alert("TS DROPS NEXT WEEK — Join @rakrunnin_support for early access.");
  }

  // Init
  document.addEventListener('DOMContentLoaded', () => {
    renderCards();
    updateCart();
    setTimeout(() => document.querySelector('.page').style.opacity = '1', 100);
    // PWA
    if ('serviceWorker' in navigator && window.innerWidth < 768) {
      document.getElementById('pwa').style.display = 'block';
    }
    // Click outside modal
    document.getElementById('btcModal').addEventListener('click', (e) => {
      if (e.target.id === 'btcModal') closeModal();
    });
  });
</script>
</body>
</html>
