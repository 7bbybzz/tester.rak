<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Rak's Shop — Ultimate Jason Edition</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{
  --bg:#060507; --card:#0b0b0d;
  --glass: rgba(255,255,255,0.02);
  --accent-from: #7c3aed; --accent-to: #06b6d4;
  --gold:#b4904a;
  --ease: cubic-bezier(.2,.9,.2,1);
}
html,body{height:100%;scroll-behavior:smooth;margin:0;font-family:Inter,sans-serif;color:#e6e6e9;background:var(--bg);}
.container{max-width:1100px;margin:0 auto;padding:28px;}
header.sitebar{position:fixed;top:18px;left:0;right:0;z-index:60;backdrop-filter:blur(8px);display:flex;justify-content:center;pointer-events:none}
header.sitebar > .inner{pointer-events:auto;width:100%;max-width:1100px;padding:10px 16px;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(180deg, rgba(255,255,255,0.014), rgba(0,0,0,0.02));border-radius:14px;border:1px solid rgba(255,255,255,0.03);}
.logo{display:flex;align-items:center;gap:12px}
.logo .brand{font-weight:700;letter-spacing:-0.5px}
.wallet{display:flex;align-items:center;gap:8px}
.page{min-height:calc(100vh - 120px);padding-top:80px;padding-bottom:60px;opacity:0;transform:translateY(10px);transition:all .45s var(--ease)}
.page.active{opacity:1;transform:none}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.018), rgba(0,0,0,0.02));border:1px solid rgba(255,255,255,0.03);border-radius:14px;padding:16px;transition:transform .32s var(--ease), box-shadow .32s var(--ease);backdrop-filter: blur(6px);}
.card:hover{transform:translateY(-8px);box-shadow:0 18px 60px rgba(2,6,23,0.7);}
.btn{padding:10px 14px;border-radius:12px;display:inline-flex;align-items:center;gap:8px;font-weight:600;cursor:pointer}
.btn-accent{background:linear-gradient(90deg,var(--accent-from),var(--accent-to));box-shadow:0 12px 40px rgba(7,10,20,0.6)}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04)}
.muted{color:#9b9ba0;font-size:0.92rem}
.small{font-size:0.85rem}
.sep{height:1px;background:rgba(255,255,255,0.02);margin:14px 0;border-radius:2px}
aside.cart{position:fixed;right:18px;top:90px;width:360px;background:var(--card);border-left:1px solid rgba(255,255,255,0.02);height:calc(100vh - 120px);border-radius:12px;padding:12px;box-shadow:0 30px 80px rgba(2,6,23,0.75);transform:translateX(120%);transition:transform .36s var(--ease);z-index:70;}
aside.cart.open{transform:translateX(0);}
.product-hero{display:flex;gap:18px;align-items:center}
.img-hero{width:360px;height:280px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:800;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
.mask-svg{width:68px;height:68px;opacity:0.95;filter:drop-shadow(0 8px 24px rgba(0,0,0,0.55));transition:transform .48s var(--ease);}
.mask-svg:hover{transform:scale(1.08) rotateY(10deg) rotateX(4deg);}
.page-enter{animation:pageIn .48s var(--ease) both;}
@keyframes pageIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
</style>
</head>
<body>

<header class="sitebar">
  <div class="inner">
    <div class="logo">
      <svg class="mask-svg" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="64" height="64" rx="12" fill="black" />
        <path d="M32 6c8 0 16 1.8 16 12 0 8.4-3.6 18.2-6 22-2.4 3.8-9.1 9-19 9s-16.6-5.2-19-9C11.6 36 8 26.4 8 18c0-10 8-12 16-12z" fill="#0b0b0d"/>
        <ellipse cx="21" cy="36" rx="3" ry="4" fill="#aab0b6"/>
        <ellipse cx="43" cy="36" rx="3" ry="4" fill="#aab0b6"/>
        <path d="M18 24c3 2 12 2 28 0" stroke="#bfbfbf" stroke-width="1.5" stroke-linecap="round" />
        <path d="M25 14c1.8 0 1.6 4 0 4s-1.6-4 0-4zM39 14c1.8 0 1.6 4 0 4s-1.6-4 0-4z" fill="#bfbfbf"/>
      </svg>
      <div>
        <div class="brand">Rak's Shop</div>
        <div class="muted small">Matte · Luxe · Collector economy</div>
      </div>
    </div>
    <div class="wallet">
      <div class="muted small">Credits</div>
      <div id="wallet" style="font-weight:800">$0.00</div>
      <button id="goto-credits" class="btn btn-ghost small">Top up</button>
      <button id="open-cart" class="btn btn-ghost small">Cart (<span id="cart-count">0</span>)</button>
    </div>
  </div>
</header>

<main class="container">

  <!-- HERO PAGE -->
  <section id="home" class="page active page-enter">
    <div style="display:flex;align-items:center;gap:26px;justify-content:space-between;flex-wrap:wrap">
      <div style="flex:1;min-width:300px;max-width:640px">
        <h1 style="font-size:44px;line-height:1.02;font-weight:800">Rak's Shop — Where Value Levels Up</h1>
        <p class="muted" style="margin-top:12px;max-width:540px">Matte-luxury concept storefront. Browse freely — checkout requires <strong>$25 credits</strong>.</p>
        <div style="margin-top:18px;display:flex;gap:12px;flex-wrap:wrap">
          <button id="btn-browse" class="btn btn-accent">Browse Products</button>
        </div>
      </div>
      <div style="width:420px;min-width:280px">
        <div class="card product-hero">
          <div class="img-hero">FEATURED — PRODUCT 1</div>
          <div style="flex:1;margin-top:12px">
            <button class="btn btn-accent" data-pid="p1" onclick="navigateToProduct('p1')">View Product</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS GRID PAGE -->
  <section id="products" class="page" data-route="/products">
    <h2 style="font-weight:800;font-size:20px">Products</h2>
    <div style="margin-top:18px;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px" id="all-grid"></div>
  </section>

  <!-- PRODUCT DETAIL PAGE -->
  <section id="product-page" class="page" data-route="/product"></section>

  <!-- CREDITS PAGE -->
  <section id="credits" class="page" data-route="/credits">
    <h2 style="font-weight:800;font-size:20px">Credits — Top up with BTC</h2>
    <p class="muted small" style="margin-top:8px">Minimum balance of <strong>$25</strong> required to checkout.</p>
    <div style="margin-top:18px" class="card">
      <input id="top-amt" type="number" min="1" placeholder="Amount (USD)" class="w-48 p-2 rounded-md bg-transparent border border-gray-700" />
      <button id="gen-invoice" class="btn btn-accent">Generate Invoice</button>
      <button id="quick-10" class="btn btn-ghost">+$10</button>
    </div>
    <div style="margin-top:12px" class="card">
      <div id="invoices-area" class="muted small">No invoices yet</div>
    </div>
  </section>

</main>

<!-- CART DRAWER -->
<aside class="cart" id="cart-drawer">
  <h2 class="font-bold text-lg">Cart</h2>
  <div id="cart-items" style="margin-top:12px"></div>
  <div class="sep"></div>
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div class="font-bold">Total:</div>
    <div id="cart-total" class="font-bold">$0.00</div>
  </div>
  <button id="checkout-btn" class="btn btn-accent w-full mt-4">Checkout</button>
</aside>

<script>
// SPA Page Navigation
const pages = document.querySelectorAll('.page');
function showPage(id){pages.forEach(p=>p.classList.remove('active'));document.getElementById(id).classList.add('active');}

// Wallet / Cart
let wallet = 0; let cart = []; 
function updateWallet(){document.getElementById('wallet').innerText = '$'+wallet.toFixed(2);}
function updateCart(){document.getElementById('cart-count').innerText = cart.length; let total=0; cart.forEach(i=>total+=i.price*i.qty); document.getElementById('cart-total').innerText='$'+total.toFixed(2);}
document.getElementById('goto-credits').onclick = ()=>showPage('credits');
document.getElementById('btn-browse').onclick = ()=>showPage('products');
document.getElementById('open-cart').onclick = ()=>document.getElementById('cart-drawer').classList.toggle('open');

// Dummy products
const products=[{id:'p1',name:'Product 1',variants:[{name:'Used',price:12},{name:'Mint',price:35},{name:'Sealed',price:70}]}];
const grid=document.getElementById('all-grid');
products.forEach(p=>{
  const c=document.createElement('div'); c.className='card';
  c.innerHTML=`<div class="font-bold">${p.name}</div><div class="muted small">Variants: ${p.variants.map(v=>v.name).join(' • ')}</div>
  <div style="margin-top:8px"><button class="btn btn-accent" onclick="navigateToProduct('${p.id}')">View</button></div>`;
  grid.appendChild(c);
});

// Product page navigation
function navigateToProduct(pid){
  const p=products.find(x=>x.id===pid); 
  const page=document.getElementById('product-page'); 
  page.innerHTML=`<h2 class="font-bold text-xl">${p.name}</h2>
    <div style="margin-top:12px">
    ${p.variants.map(v=>`<div class="card flex justify-between items-center"><div>${v.name}</div><div>$${v.price}</div>
    <button class="btn btn-accent" onclick="addToCart('${pid}','${v.name}',${v.price})">Add to Cart</button></div>`).join('')}
    </div>`;
  showPage('product-page');
}

// Cart
function addToCart(pid,variant,price){
  cart.push({pid,variant,price,qty:1});
  updateCart();
  document.getElementById('cart-drawer').classList.add('open');
}

// Credits
document.getElementById('quick-10').onclick=()=>{wallet+=10;updateWallet();}
document.getElementById('gen-invoice').onclick=()=>{
  const amt=Number(document.getElementById('top-amt').value); if(!amt)return alert('Enter amount'); const btc=(amt/103926).toFixed(6);
  const div=document.createElement('div'); div.className='card'; div.innerHTML=`Invoice: $${amt} → ${btc} BTC<br>Address: 1NtpN3aPZowqEzX16E5cMUHQ16P9KHQtiy <button class="btn btn-accent small" onclick="wallet+=${amt};updateWallet();this.parentElement.remove();">Mark Paid (simulate)</button>`;
  document.getElementById('invoices-area').appendChild(div);
  document.getElementById('top-amt').value='';
}

updateWallet(); updateCart();
</script>

</body>
</html>
